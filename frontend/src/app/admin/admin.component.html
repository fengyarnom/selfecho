<section class="admin-page mx-auto max-w-5xl px-[10rem] py-6 space-y-4">
  <div class="flex items-center justify-between text-sm text-slate-600">
    <nav class="breadcrumbs">
      <a routerLink="/" class="link">Home</a>
      <span class="sep">/</span>
      <a routerLink="/admin/posts" class="link">Admin</a>
      <span class="sep">/</span>
      <div class="crumb-dropdown" (mouseenter)="showMenu=true" (mouseleave)="showMenu=false">
        <a routerLink="/admin/posts" class="link inline-flex items-center gap-1">
          Posts <span class="text-xs">▾</span>
        </a>
        <div class="menu" *ngIf="showMenu">
          <a class="menu-item" routerLink="/admin/posts">Posts</a>
          <a class="menu-item" routerLink="/admin/archive">Archives</a>
          <a class="menu-item" routerLink="/admin">Emails</a>
          <a class="menu-item" routerLink="/admin">Memos</a>
          <a class="menu-item" routerLink="/admin/health">Health</a>
        </div>
      </div>
    </nav>
    <a routerLink="/admin/new" class="link font-semibold text-[#3273dc]">New Post</a>
  </div>

  <div *ngIf="loading" class="muted">加载中...</div>
  <div *ngIf="!loading">
    <table class="admin-table">
      <colgroup>
        <col style="width: 40%" />
        <col style="width: 20%" />
        <col style="width: 15%" />
        <col style="width: 10%" />
        <col style="width: 15%" />
      </colgroup>
      <thead>
        <tr>
          <th>标题</th>
          <th>创建时间</th>
          <th>归档</th>
          <th>状态</th>
          <th class="actions">操作</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of articles">
          <td>{{ item.title }}</td>
          <td><span class="pill tag">{{ item.createdAt | date: 'yyyy-MM-dd HH:mm' }}</span></td>
      <td>
        <span class="pill tag" [class.muted-pill]="!item.archive">
          {{ item.archive || '未归档' }}
        </span>
      </td>
      <td>
        <span class="pill tag" [class.muted-pill]="item.status !== 'published'">
          {{ item.status === 'published' ? '已发布' : '草稿' }}
        </span>
      </td>
      <td class="actions">
        <div class="action-group">
          <a class="text-btn" [routerLink]="['/admin/edit', item.id]">编辑</a>
          <span class="sep">/</span>
          <button class="text-btn danger" (click)="remove(item.id)" [disabled]="saving">
            删除
          </button>
        </div>
      </td>
    </tr>
        <tr *ngIf="articles.length === 0">
          <td colspan="5" class="empty">暂无文章</td>
        </tr>
      </tbody>
    </table>
    <div class="pager" *ngIf="totalPages > 1">
      <button class="pager-btn" (click)="prevPage()" [disabled]="page === 1 || loading">上一页</button>
      <span class="pager-info">第 {{ page }} / {{ totalPages }} 页</span>
      <button class="pager-btn" (click)="nextPage()" [disabled]="page >= totalPages || loading">下一页</button>
    </div>
  </div>
</section>
